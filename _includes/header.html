<header class="site-header">
  <div class="header-inner">
    <!-- Sidebar toggle button (hamburger) -->
    <button class="icon-btn sidebar-toggle-btn" aria-label="Toggle sidebar" aria-expanded="false">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
    
    <a href="{{ '/' | relative_url }}" class="site-logo">
      {{ site.title }}
    </a>
    
    <nav class="header-nav">
      <ul class="nav-links">
        {% for item in site.data.navigation %}
        {% assign page_url_clean = page.url | remove: '/index.html' %}
        {% if page_url_clean == '' %}
          {% assign page_url_clean = '/' %}
        {% endif %}
        {% assign item_url_clean = item.url %}
        {% assign is_active = false %}
        {% if page_url_clean == item_url_clean %}
          {% assign is_active = true %}
        {% elsif page_url_clean != '/' and item_url_clean != '/' %}
          {% assign page_with_slash = page_url_clean | append: '/' %}
          {% assign item_with_slash = item_url_clean | append: '/' %}
          {% if page_url_clean == item_with_slash or page_with_slash == item_url_clean or page_with_slash == item_with_slash %}
            {% assign is_active = true %}
          {% endif %}
        {% endif %}
        <li>
          <a href="{{ item.url | relative_url }}" class="nav-link {% if is_active %}active{% endif %}">
            {{ item.name }}
          </a>
        </li>
        {% endfor %}
      </ul>
      
      <div class="header-actions">
        <!-- Search trigger -->
        <button class="search-trigger" data-command-palette aria-label="Open command palette">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.3-4.3"></path>
          </svg>
          <span>Search</span>
          <kbd>âŒ˜K</kbd>
        </button>
        
        <!-- Theme toggle -->
        {% include theme-toggle.html %}
        
        <!-- Mobile menu button -->
        <button class="icon-btn mobile-menu-btn" aria-label="Open menu" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </nav>
  </div>
</header>
