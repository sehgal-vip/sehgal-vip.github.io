---
layout: page
title: Reading List
description: Papers, books, articles, and other things I've found valuable
permalink: /reading/
---

<div class="reading-list">
  <!-- Papers Section -->
  {% if site.data.reading_papers.size > 0 %}
  {% assign papers_by_year_temp = site.data.reading_papers | group_by: "year" %}
  {% assign papers_years = papers_by_year_temp | map: "name" | sort | reverse %}
  {% assign papers_by_author_temp = site.data.reading_papers | group_by: "author" %}
  {% assign papers_authors = papers_by_author_temp | map: "name" | sort %}
  <section class="collapsible-section" data-section="papers">
    <h2 class="section-title">
      <span class="section-icon">ðŸ“„</span>
      Papers
    </h2>
    <div class="section-filters" aria-label="Filter papers">
      <label class="filter-group">
        <span class="filter-label">Year</span>
        <select class="filter-select filter-year" data-section="papers" multiple size="4">
          <option value="all">All</option>
          {% for y in papers_years %}
          <option value="{{ y }}">{{ y }}</option>
          {% endfor %}
        </select>
      </label>
      <label class="filter-group">
        <span class="filter-label">Author</span>
        <select class="filter-select filter-author" data-section="papers" multiple size="4">
          <option value="all">All</option>
          {% for a in papers_authors %}
          <option value="{{ a }}">{{ a }}</option>
          {% endfor %}
        </select>
      </label>
    </div>
    
    {% assign papers_by_year = site.data.reading_papers | group_by: "year" | sort: "name" | reverse %}
    {% for year_group in papers_by_year %}
    <div class="year-accordion">
      <button class="year-toggle" aria-expanded="true" data-year="{{ year_group.name }}">
        <span class="year-label">{{ year_group.name }}</span>
        <svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </button>
      <div class="year-content">
        <table class="data-table">
          <thead>
            <tr>
              <th>Title</th>
              <th>Author</th>
              <th>Year</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            {% for item in year_group.items %}
            <tr data-year="{{ item.year }}" data-author="{{ item.author }}">
              <td class="title-cell">
                {% if item.url and item.url != "" %}
                <a href="{{ item.url }}" target="_blank" rel="noopener noreferrer">{{ item.title }}</a>
                {% else %}
                {{ item.title }}
                {% endif %}
              </td>
              <td class="author-cell">{{ item.author }}</td>
              <td class="year-cell">{{ item.year }}</td>
              <td class="desc-cell">{{ item.description }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    {% endfor %}
  </section>
  {% endif %}

  <!-- Books Section -->
  {% if site.data.reading_books.size > 0 %}
  {% assign books_by_year_temp = site.data.reading_books | group_by: "year" %}
  {% assign books_years = books_by_year_temp | map: "name" | sort | reverse %}
  {% assign books_by_author_temp = site.data.reading_books | group_by: "author" %}
  {% assign books_authors = books_by_author_temp | map: "name" | sort %}
  <section class="collapsible-section" data-section="books">
    <h2 class="section-title">
      <span class="section-icon">ðŸ“š</span>
      Books
    </h2>
    <div class="section-filters" aria-label="Filter books">
      <label class="filter-group">
        <span class="filter-label">Year</span>
        <select class="filter-select filter-year" data-section="books" multiple size="4">
          <option value="all">All</option>
          {% for y in books_years %}
          <option value="{{ y }}">{{ y }}</option>
          {% endfor %}
        </select>
      </label>
      <label class="filter-group">
        <span class="filter-label">Author</span>
        <select class="filter-select filter-author" data-section="books" multiple size="4">
          <option value="all">All</option>
          {% for a in books_authors %}
          <option value="{{ a }}">{{ a }}</option>
          {% endfor %}
        </select>
      </label>
    </div>
    
    {% assign books_by_year = site.data.reading_books | group_by: "year" | sort: "name" | reverse %}
    {% for year_group in books_by_year %}
    <div class="year-accordion">
      <button class="year-toggle" aria-expanded="true" data-year="{{ year_group.name }}">
        <span class="year-label">{{ year_group.name }}</span>
        <svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </button>
      <div class="year-content">
        <table class="data-table">
          <thead>
            <tr>
              <th>Title</th>
              <th>Author</th>
              <th>Year</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            {% for item in year_group.items %}
            <tr data-year="{{ item.year }}" data-author="{{ item.author }}">
              <td class="title-cell">
                {% if item.url and item.url != "" %}
                <a href="{{ item.url }}" target="_blank" rel="noopener noreferrer">{{ item.title }}</a>
                {% else %}
                {{ item.title }}
                {% endif %}
              </td>
              <td class="author-cell">{{ item.author }}</td>
              <td class="year-cell">{{ item.year }}</td>
              <td class="desc-cell">{{ item.description }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    {% endfor %}
  </section>
  {% endif %}

  <!-- Articles Section -->
  {% if site.data.reading_articles.size > 0 %}
  {% assign articles_by_year_temp = site.data.reading_articles | group_by: "year" %}
  {% assign articles_years = articles_by_year_temp | map: "name" | sort | reverse %}
  {% assign articles_by_author_temp = site.data.reading_articles | group_by: "author" %}
  {% assign articles_authors = articles_by_author_temp | map: "name" | sort %}
  <section class="collapsible-section" data-section="articles">
    <h2 class="section-title">
      <span class="section-icon">ðŸ“°</span>
      Articles
    </h2>
    <div class="section-filters" aria-label="Filter articles">
      <label class="filter-group">
        <span class="filter-label">Year</span>
        <select class="filter-select filter-year" data-section="articles" multiple size="4">
          <option value="all">All</option>
          {% for y in articles_years %}
          <option value="{{ y }}">{{ y }}</option>
          {% endfor %}
        </select>
      </label>
      <label class="filter-group">
        <span class="filter-label">Author</span>
        <select class="filter-select filter-author" data-section="articles" multiple size="4">
          <option value="all">All</option>
          {% for a in articles_authors %}
          <option value="{{ a }}">{{ a }}</option>
          {% endfor %}
        </select>
      </label>
    </div>
    
    {% assign articles_by_year = site.data.reading_articles | group_by: "year" | sort: "name" | reverse %}
    {% for year_group in articles_by_year %}
    <div class="year-accordion">
      <button class="year-toggle" aria-expanded="true" data-year="{{ year_group.name }}">
        <span class="year-label">{{ year_group.name }}</span>
        <svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </button>
      <div class="year-content">
        <table class="data-table">
          <thead>
            <tr>
              <th>Title</th>
              <th>Author</th>
              <th>Year</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            {% for item in year_group.items %}
            <tr data-year="{{ item.year }}" data-author="{{ item.author }}">
              <td class="title-cell">
                {% if item.url and item.url != "" %}
                <a href="{{ item.url }}" target="_blank" rel="noopener noreferrer">{{ item.title }}</a>
                {% else %}
                {{ item.title }}
                {% endif %}
              </td>
              <td class="author-cell">{{ item.author }}</td>
              <td class="year-cell">{{ item.year }}</td>
              <td class="desc-cell">{{ item.description }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    {% endfor %}
  </section>
  {% endif %}

  <!-- Others Section -->
  {% if site.data.reading_others.size > 0 %}
  {% assign others_by_year_temp = site.data.reading_others | group_by: "year" %}
  {% assign others_years = others_by_year_temp | map: "name" | sort | reverse %}
  {% assign others_by_author_temp = site.data.reading_others | group_by: "author" %}
  {% assign others_authors = others_by_author_temp | map: "name" | sort %}
  <section class="collapsible-section" data-section="others">
    <h2 class="section-title">
      <span class="section-icon">ðŸ”—</span>
      Others
    </h2>
    <div class="section-filters" aria-label="Filter others">
      <label class="filter-group">
        <span class="filter-label">Year</span>
        <select class="filter-select filter-year" data-section="others" multiple size="4">
          <option value="all">All</option>
          {% for y in others_years %}
          <option value="{{ y }}">{{ y }}</option>
          {% endfor %}
        </select>
      </label>
      <label class="filter-group">
        <span class="filter-label">Author</span>
        <select class="filter-select filter-author" data-section="others" multiple size="4">
          <option value="all">All</option>
          {% for a in others_authors %}
          <option value="{{ a }}">{{ a }}</option>
          {% endfor %}
        </select>
      </label>
    </div>
    
    {% assign others_by_year = site.data.reading_others | group_by: "year" | sort: "name" | reverse %}
    {% for year_group in others_by_year %}
    <div class="year-accordion">
      <button class="year-toggle" aria-expanded="true" data-year="{{ year_group.name }}">
        <span class="year-label">{{ year_group.name }}</span>
        <svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </button>
      <div class="year-content">
        <table class="data-table">
          <thead>
            <tr>
              <th>Title</th>
              <th>Author</th>
              <th>Year</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            {% for item in year_group.items %}
            <tr data-year="{{ item.year }}" data-author="{{ item.author }}">
              <td class="title-cell">
                {% if item.url and item.url != "" %}
                <a href="{{ item.url }}" target="_blank" rel="noopener noreferrer">{{ item.title }}</a>
                {% else %}
                {{ item.title }}
                {% endif %}
              </td>
              <td class="author-cell">{{ item.author }}</td>
              <td class="year-cell">{{ item.year }}</td>
              <td class="desc-cell">{{ item.description }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    {% endfor %}
  </section>
  {% endif %}
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Collapse/expand year accordions
  document.querySelectorAll('.year-toggle').forEach(function(button) {
    button.addEventListener('click', function() {
      const content = this.nextElementSibling;
      const isExpanded = this.getAttribute('aria-expanded') === 'true';
      
      this.setAttribute('aria-expanded', !isExpanded);
      content.classList.toggle('collapsed', isExpanded);
    });
  });

  // Filtering per section
  const sections = document.querySelectorAll('.collapsible-section');
  
  const normalizeSelection = (select) => {
    if (!select) return ['all'];
    const options = Array.from(select.options);
    const selected = options.filter(o => o.selected).map(o => o.value);
    if (selected.includes('all') && selected.length > 1) {
      options.forEach(o => { o.selected = o.value === 'all'; });
      return ['all'];
    }
    if (selected.length === 0) {
      const allOpt = options.find(o => o.value === 'all');
      if (allOpt) allOpt.selected = true;
      return ['all'];
    }
    return selected;
  };

  sections.forEach(function(section) {
    const yearSelect = section.querySelector('.filter-year');
    const authorSelect = section.querySelector('.filter-author');
    const accordions = section.querySelectorAll('.year-accordion');

    const applyFilters = () => {
      const selectedYears = normalizeSelection(yearSelect);
      const selectedAuthors = normalizeSelection(authorSelect);

      accordions.forEach(acc => {
        const rows = acc.querySelectorAll('tbody tr');
        let visibleRows = 0;

        rows.forEach(row => {
          const rowYear = row.getAttribute('data-year');
          const rowAuthor = row.getAttribute('data-author');
          const matchYear = selectedYears.includes('all') || selectedYears.includes(rowYear);
          const matchAuthor = selectedAuthors.includes('all') || selectedAuthors.includes(rowAuthor);
          const shouldShow = matchYear && matchAuthor;
          row.style.display = shouldShow ? '' : 'none';
          if (shouldShow) visibleRows++;
        });

        // Hide entire accordion if no rows match
        acc.style.display = visibleRows > 0 ? '' : 'none';
      });
    };

    if (yearSelect) {
      yearSelect.addEventListener('change', () => {
        normalizeSelection(yearSelect);
        applyFilters();
      });
    }
    if (authorSelect) {
      authorSelect.addEventListener('change', () => {
        normalizeSelection(authorSelect);
        applyFilters();
      });
    }

    // Initial filter application
    applyFilters();
  });
});
</script>
